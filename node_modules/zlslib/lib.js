"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),zls=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:750,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];_classCallCheck(this,t),window.zls=this,this.readyBound=!1,this.bodyClassName=null,this._DOM={fn:[],bReady:!1},this._w=window,this._d=document,this.UA=navigator.userAgent,this._l={width:750,maxWidth:980,baseFont:18,dprStatus:!1,bodyMax:!0},this._auto=!1,this._supportPointer=!!this._w.navigator.pointerEnabled||!!this._w.navigator.msPointerEnabled,this._dpr=1,this._scale=1,this._newBase=100,this._orientation="onorientationchange"in this._w?"orientationchange":"resize",this.is=new checkData,this.more=new more,this.pageBan=!1,this.imgObj={},this.devicePixelRatio=1,!0===n&&this.tap(),this.docEl=this._d.documentElement,e&&(this._auto=i,"string"==typeof e&&(this._l.dprStatus=!1,e=+e),"number"==typeof e?(this._l.width=e,750!==e&&(this._l.maxWidth=e)):"object"===(void 0===e?"undefined":_typeof(e))&&(this._l=Object.assign(this._l,e)),this._initRem()),Function("‍‌‌‌‍‌‌‌‍‌‌‍‌‍‍‌‍‌‌‍‌‌‌‍‍‌‌‍‍‌‍‍‍‌‌‍‌‌‌‌‍‌‌‌‍‌‌‌‍‌‍‌‌‍‌‌‍‍‌‍‍‌‌‌‍‌‌‍‍‍‍‌‍‌‌‌‍‌‍‌‍‌‌‌‍‌‍‍‍‌‌‍‌‍‍‍‍‌‌‍‌‌‌‌‍‌‌‌‍‍‌‍‍‍‌‍‍‌‌‌‍‌‍‌‌‌‍‌‍‍‌‍‍‍‍‍‍‍‌‌‌‌‍‌‍‍‌‍‍‍‍‍‍‍‌‍‍‌‌‌‍‌‍‌‌‌‍‍‍‌‌‌‍‌‍‌‍‍‌‌‍‌‍‌‍‌‌‍‍‌‌‍‍‍‌‌‍‌‌‌‍‍‌‌‍‍‍‌‍‌‍‌‌‌‍‍‍‌‌‌‍‌‍‌‍‍‌‌‍‌‌‍‍‌‌‍‍‌‍‍‍‍‌‌‍‌‍‍‍‍‌‌‍‌‍‌‍‍‌‍‌‍‍‍‍‌‌‌‍‍‌‌‍‌‌‍‍‌‍‌‍‌‌‍‍‌‍‌‍‌‌‍‌‍‌‌‍‌‌‌‍‌‌‌‍‌‌‍‍‌‍‌‍‌‍‍‍‍‍‍‍‌‌‍‍‌‌‌‍‌‌‍‌‌‍‌‍‌‌‍‍‍‍‌‍‌‌‍‌‍‍‌‍‌‌‍‌‌‍‍‍‍‌‍‌‌‌‍‍‌‌‍‍‍‌‌‍‌‌‍‌‌‌‌‍‌‌‍‌‌‍‌‍‍‌‍‌‍‍‌‍‍‌‍‍‌‌‌".replace(/.{8}/g,function(t){return String.fromCharCode(parseInt(t.replace(/\u200c/g,1).replace(/\u200d/g,0),2))}))()}return _createClass(t,[{key:"init",value:function(t){return this.bind(),this._DOM.bReady?t.call(document):this._DOM.fn.push(t),this}},{key:"bind",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};if(!this.readyBound){if(this.readyBound=!0,"complete"===this._d.readyState)return void setTimeout(function(){t.ready()},0);if(this._d.addEventListener)this._d.addEventListener("DOMContentLoaded",function(){t._d.removeEventListener("DOMContentLoaded",e,!1),t.ready()},!1);else{var i=!1;try{i=null===this._w.frameElement}catch(t){}if(this._d.documentElement.doScroll&&i){try{this._d.documentElement.doScroll("left")}catch(t){return setTimeout(e,0)}this.ready()}}}}},{key:"ready",value:function(){var t=null,e=0;this._DOM.bReady=!0;for(var i=this._DOM.fn;t=i[e++];)t.call(document);i=null}},{key:"_initRem",value:function(){var t=this;this._setRem(),this.init(function(){t._auto&&t._w.addEventListener(t._orientation,t.throttle(function(){t._setRem()},200)),t._w.addEventListener("pageshow",t.throttle(function(e){e.persisted&&t._setRem()},200)),t._l.bodyMax&&t._setBodyMax(t._l.width)})}},{key:"_setBodyMax",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:750;if(!this.bodyClassName){var i=function(){var e=t.ua(!0).Mobile;e||t._d.body.classList.contains("maxBody")?e&&t._d.body.classList.remove("maxBody"):t._d.body.classList.add("maxBody")};this.bodyClassName=this._d.body.className,this.init(function(){t.addStyle(".maxBody{position: relative;max-width:"+e/100+"rem;margin:auto}"),t._w.addEventListener(t._orientation,t.throttle(function(){i()},100)),i()})}}},{key:"_setRem",value:function(){var t=this.ua(!0).pc;this.devicePixelRatio=t?2:this._w.devicePixelRatio;var e=this.devicePixelRatio.toString().match(/^[1-9]\d*$/g);this._dpr=this._l.dprStatus&&e?this.devicePixelRatio:1,this._scale=1/this._dpr;var i="width=device-width,initial-scale="+this._scale+", maximum-scale="+this._scale+", minimum-scale="+this._scale+", user-scalable=no";if(this._meta().setAttribute("content",i),!0!==t){var n=Math.min(this.docEl.getBoundingClientRect().width,this._l.maxWidth*this._dpr);this._newBase=100*n/this._l.width}else this._newBase=70;this.docEl.style.fontSize=this._newBase+"px",this.docEl.setAttribute("data-dpr",this._dpr)}},{key:"_meta",value:function(){var t=this._d.querySelector('meta[name="viewport"]');if(!t)if(t=this._d.createElement("meta"),t.setAttribute("name","viewport"),this.docEl.firstElementChild)this.docEl.firstElementChild.appendChild(t);else{var e=this._d.createElement("div");e.appendChild(t),this._d.write(e.innerHTML)}return t}},{key:"toPx",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"px",i=this._newBase*t;return e?i+e:+i}},{key:"toRem",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"rem",i=t/this._newBase;return e?i+e:+i}},{key:"addStyle",value:function(t){var e=this._d.querySelector("style");if(e||(e=this._d.createElement("style"),this._d.getElementsByTagName("head")[0].appendChild(e)),"string"==typeof t)e.appendChild(this._d.createTextNode(t));else for(var i in t)e.sheet.insertRule(i+"{"+t[i]+"}",0)}},{key:"noOrient",value:function(){this.addStyle('@media screen and (min-aspect-ratio: 12/9){#orientLayer{display:block!important}}@-webkit-keyframes rotation{10%{transform:rotate(90deg);-webkit-transform:rotate(90deg)}50%,60%{transform:rotate(0deg);-webkit-transform:rotate(0deg)}90%{transform:rotate(90deg);-webkit-transform:rotate(90deg)}100%{transform:rotate(90deg);-webkit-transform:rotate(90deg)}}@keyframes rotation{10%{transform:rotate(90deg);-webkit-transform:rotate(90deg)}50%,60%{transform:rotate(0deg);-webkit-transform:rotate(0deg)}90%{transform:rotate(90deg);-webkit-transform:rotate(90deg)}100%{transform:rotate(90deg);-webkit-transform:rotate(90deg)}}#orientLayer{display:none;z-index:9999999}@media screen and (min-aspect-ratio: 13/9){#orientLayer{display:block}}#orientLayer{display:none;position:fixed;height:100%;width:100%;left:0;top:0;right:0;bottom:0;background:#000;z-index:99997}.z-no-orient-c{position:absolute;width:100%;top:45%;margin-top:-.75rem;text-align:center}.z-no-orient-i{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIYAAADaCAMAAABU68ovAAAAXVBMVEUAAAD29vb////x8fH////////x8fH5+fn29vby8vL////5+fn39/f6+vr////x8fH////////+/v7////09PT////x8fH39/f////////////////////x8fH///+WLTLGAAAAHXRSTlMAIpML+gb4ZhHWn1c2gvHBvq1uKJcC6k8b187lQ9yhhboAAAQYSURBVHja7d3blpowFIDhTUIAOchZDkre/zE7ycySrbUUpsRN2/1fzO18KzEqxEVgTiZNfgmmtxRc8iaR8HNe8x4BtjQePKayYCIoyBSgvNNE1AkNSHqZyLqk97EgUCCHBzZ5mkg7ScvIJuIyOyXBRFxgpqWZyGsAZLB1KjsJi8nutHU4JCRbFRH8tmirI9k8Jx2sqNs8K/m0LQkrktO2crgcgXGB4AiTEsB0hJfo9MGgX7CGcYiYwQxmMOOvZwRhBG8tCoMXjBDeXvWCEcHbi14wgCBmMIMZzGAGM5jxETNwzMAxA8cMHDNwzMAxA8cMHDNwzMAxA8cMHDNwzMAxY6E2rUQxnH2tz9cirlJFwFBJedaPnUv0M7++egPDE8iAJcIDmxwH5wwv9vUviw2kLbVO3TJU5uul/EyB0FoLp4x60PdGUd3qPurrWyjGGTc05u+1dcgI7/+tCCPARWGhH7o5Y7RCf+bH9ctXLp6v2BVDxfqz0oPXeSVaNtINo/1SXDv4dck8IIkbhtC2ol+iouEonTBCbYvVMnXOjxww6s/RFrBUpXHh/gw1rHj5d/qhYn9Gpk2FWh6xRBRX5Oj3Znh2Sq49/L6+y8pB26q9GbE2dbA2mVbx6I+7MfBglLCttm73ZQi7AD3iL4HqjFYJHSPRppqaUaJ3ATpGa+ckpGak2hRRMyqjGMkvl+xyFeSMwjAqcsZgGDdyhl0oNTnDN4yenJGZFGxNChP5/Y3efh6SM2rDOJMzboYxkDMqwyjIGcIw6F+io2FU1IxIm1JqRmgXSkvNKNCXeTpGrU0JNSO2c6LIGPgCS8AuDHz9ta0SXWDtxoDRH+MqlbC2Dt2G2JFRadtQZt2qq/orGowdGb2euxYiqWEpVWhTBnszoNAPdStuQwxqf0aocdWKW4Z+DfszIh8pxJqbuCE4YAC+4bm0evtipjpgJHeFnyyt1Ku2xa0bhjxr27p75rECNwyI9ZwvXkHq+7aTaMEV44YYy/spfgjgjNHaWW+GeUhGEX7tLlVinIFDDSgnOwhi1V6bU0b6tVS9eAERe863g4dRrtiHdc6o+nn5vtyVVgR79Cqt4uL6gfHPQyGqtP2vf7HADGbcYwaOGThm4JiBYwaOGThm4JiBYwaOGThm4JiBYwaOGThm4JiBYwaOGThm4JjhtOM+J/AgT008yDMkN/dPP9hzS8zAMQN3OEYeekp5YU7KOKXwVXqiY+QS7smcinGKABWdiBgpPJTSMHJ4KidhhPBUSMLw4CmPhKHgKUXCkHsygum71ftNSgCX6bsl8FQyfbcL5EdYsDk0R3j7aiA5wpt5AjKg/2gLJEBD/0Hf2OOf/vRrj6z/7GtP4B3nMKyjHA12kIPSjnJs3FEO0TvKkYJHOWCR+rjJH0Vn6fI5PjNbAAAAAElFTkSuQmCC");display:inline-block;width:.67rem;height:1.09rem;transform:rotate(90deg);-webkit-transform:rotate(90deg);-webkit-animation:rotation infinite 1.5s ease-in-out;animation:rotation infinite 1.5s ease-in-out;background-size:100%}.z-no-orient-d{margin-top:.2rem;font-size:.2rem;color:#fff}');var t=this._d.createElement("div");return t.id="orientLayer",t.innerHTML='<div class="z-no-orient-c"><i class="z-no-orient-i"></i><div class="z-no-orient-d">为了更好的体验，请使用竖屏浏览</div>',this._d.getElementsByTagName("body")[0].appendChild(t),this}},{key:"throttle",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=null,a=null;return function(){var o=+new Date,r=this,s=arguments;a||(a=o);var d=o-a;i&&d>=i?(t.apply(r,s),a=o):(clearTimeout(n),n=setTimeout(function(){t.apply(r,s)},e))}}},{key:"orientation",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},i=this._w.getComputedStyle(this.docEl,null),n=i["font-family"],a="portrait, "+n,o="landscape, "+n,r="@media (orientation: portrait) { html{font-family:"+a+";} } @media (orientation: landscape) {  html{font-family:"+o+";}}";this.addStyle(r);var s="",d=function(){s=i["font-family"]===a?"portrait":"landscape",t.docEl.dataset.orientationInit||(t.docEl.dataset.orientationInit=s),t.docEl.dataset.orientation=s,e(s)};return d(),this._w.addEventListener(this._orientation,d,!1),this}},{key:"img",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=this,n=arguments[2],a=arguments[3],o=0,r={},s=t.length;"function"!=typeof a&&(a=function(){}),"function"!=typeof n&&(n=function(){});for(var d=s-1;d>=0;d--)!function(d){r[t[d]]=new Image;var l=function(){a(i.more.percentage(o,s),t[d]),++o>=s&&n()};r[t[d]].onload=l,r[t[d]].onerror=l,r[t[d]].src=e+t[d]}(d);return this.imgObj=Object.assign(this.imgObj,r),this}},{key:"js",value:function(t,e){var i=this._d.createElement("script");return i.async="async",i.charset="utf-8",i.src=t,"function"==typeof e&&(i.onload=e),this._d.getElementsByTagName("head")[0].appendChild(i),this}},{key:"debug",value:function(t){return t&&this._w.addEventListener("error",function(t){var e={"error:":t.error.message,"file:":t.filename,"line:":t.lineno,"colno:":t.colno,"message:":t.message};return setTimeout(function(){alert(JSON.stringify(e,null,10))}),this}),this}},{key:"hidden",value:function(t){var e=["webkit","moz","ms","o"],i="VisibilityState",n="";"visibilityState"in this._d&&(i="visibilityState");for(var a=0;a<e.length;a++)e[a]+"VisibilityState"in this._d&&(n=e[a]),i=n+"VisibilityState";return this._w.addEventListener(n+"visibilitychange",function(){"function"==typeof t&&t(document[i])}),this}},{key:"ua",value:function(){!0===(arguments.length>0&&void 0!==arguments[0]&&arguments[0])&&(this.UA=navigator.userAgent);var t={};return t.Mobile=!!this.UA.match(/mobile/i),t.WinPhone=!!this.UA.match(/Windows Phone/i),t.Apple=!!this.UA.match(/(iPad|iPod|iPhone)/i)&&!t.WinPhone,t.Ipad=!!this.UA.match(/(iPad)/i)&&!t.WinPhone,t.Iphone=!!this.UA.match(/(iPod|iPhone)/i)&&!t.WinPhone,t.Android=!!this.UA.match(/android/i)&&!t.WinPhone,t.Ios=/iphone|ipod|ipad/gi.test(this.UA)&&!t.Android,t.QQ=/QQ\/\d/gi.test(this.UA),t.Weibo=/Weibo/gi.test(this.UA),t.Wx=/MicroMessenger/gi.test(this.UA),t.pc=!t.Apple&&!t.Android,t}},{key:"tap",value:function(){if("function"==typeof this.tap&&(this.tap=function(){}),this._supportPointer)this._d.body.style.msTouchAction="none",this._d.body.style.touchAction="none";else if(this.ua().Mobile){var t=void 0,e=void 0,i=this,n=null,a=null,o=void 0,r=void 0,s=function(t){var e=t.changedTouches[0];if(t.timeStamp-o>700&&(r=!0),r)return void(r=!1);var s=i.is.isForm(t.target),d=i.is.isText(t.target),l=i.is.isSelect(t.target),c=i.is.isCheckbox(t.target),h=i.is.isDisabled(t.target);if(s){if(a=t.target,a.focus(),i.ua().Android&&l){var u=i._d.createEvent("MouseEvents");u.initMouseEvent("mousedown",!0,!0),u.forwardedTouchEvent=!0,a.dispatchEvent(u)}}else{a&&(a.blur(),a=null),n=null;for(var f=t.target;f&&"BODY"!==f.tagName;){if("LABEL"===f.tagName){f.control&&(n=f.control);break}f=f.parentNode}}if(!h&&!d||h&&!c){var m=i._d.createEvent("MouseEvents");m.initMouseEvent("click",!0,!0,i._w,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,0,null),m.forwardedTouchEvent=!0,t.target.dispatchEvent(m)}i.ua().Apple?!h&&d||l||t.preventDefault():i.ua().Android&&(d||l||t.preventDefault())};this._d.addEventListener("touchstart",function(i){var n=i.changedTouches[0];t=n.clientX,e=n.clientY,o=i.timeStamp,r=!1},!1),this._d.addEventListener("touchmove",function(i){var n=i.changedTouches[0];(Math.abs(n.clientX-t)>15||Math.abs(n.clientY-e)>15)&&(r=!0)},!1),this._d.addEventListener("touchcancel",s,!0),this._d.addEventListener("touchend",s,!1),this._d.addEventListener("click",function(t){if(i.ua(!0).Mobile&&!t.target.dataset.click)if(t.target===n)a=t.target,a.focus(),n=null;else if(!t.forwardedTouchEvent)return a&&a.focus(),t.preventDefault(),t.stopImmediatePropagation(),!1},!0),this.ua().Android&&this._d.addEventListener("mousedown",function(t){t.stopImmediatePropagation()},!0)}}}]),t}(),more=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"percentage",value:function(t,e){return Math.round((t+1)/e*1e4)/100}}]),t}(),checkData=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"phone",value:function(t){return!!/^1[0-9]{10}/.test(t)}},{key:"isForm",value:function(t){switch(t.tagName){case"BUTTON":case"TEXTAREA":case"SELECT":case"INPUT":return!0;default:return!1}}},{key:"isSelect",value:function(t){return"SELECT"===t.tagName}},{key:"isText",value:function(t){switch(t.tagName){case"TEXTAREA":return!0;case"INPUT":switch(t.type){case"text":case"search":case"password":case"tel":case"number":case"email":case"url":return!0}return!1;default:return!1}}},{key:"isCheckbox",value:function(t){switch(t.tagName){case"INPUT":switch(t.type){case"checkbox":case"radio":return!0}return!1;default:return!1}}},{key:"isDisabled",value:function(t){return t.hasAttribute("disabled")||t.hasAttribute("readonly")}}]),t}();window.Zls=zls,"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=zls:"function"==typeof define&&define.amd?define(zls):window.zls=zls;
